# 📚 Pandas로 따라하는 전기화물차 배터리 분석 - 완전 가이드

## 📦 제공되는 파일 설명

### 1️⃣ 퀵스타트_분석코드.py [78]
**처음 시작하기에 좋은 기본 코드**
- 소요 시간: 5분
- 복잡도: ⭐ 기초 단계
- 포함 내용:
  - 데이터 로드 및 정제
  - 기본 파생 변수 생성
  - 속도 구간별 분석
  - 결과 저장
  
**사용 방법:**
```bash
python 퀵스타트_분석코드.py
```

**출력 파일:**
- `배터리_분석_데이터.csv` - 분석용 정제 데이터
- `속도별_통계.csv` - 속도 구간별 통계
- `권장사항.txt` - 분석 결과 권장사항

---

### 2️⃣ 전기화물차_배터리분석_튜토리얼.md [77]
**단계별 학습 튜토리얼**
- 소요 시간: 30분
- 복잡도: ⭐⭐ 중급 단계
- 포함 내용:
  - 0단계: 라이브러리 설치
  - 1-10단계: 각 분석 단계별 상세 코드
  - 함수 설명 및 예제
  - 트러블슈팅 팁

**학습 순서:**
1. 0단계 코드 실행하여 라이브러리 설치
2. 1-2단계로 데이터 로드 및 정제
3. 3-4단계로 파생 변수 생성
4. 5-7단계로 분석 수행
5. 8-9단계로 시각화 및 통계
6. 10단계로 보고서 생성

---

### 3️⃣ 고급_분석코드_클래스.py [79]
**OOP 기반 완전한 분석 프레임워크**
- 소요 시간: 10분
- 복잡도: ⭐⭐⭐ 고급 단계
- 포함 내용:
  - `EVBatteryAnalyzer` 클래스
  - 자동화된 전체 분석 파이프라인
  - 4개 차트 자동 생성
  - 최종 보고서 자동 생성

**사용 방법:**
```python
from 고급_분석코드_클래스 import EVBatteryAnalyzer

analyzer = EVBatteryAnalyzer('한국교통안전공단_전기화물차 센서데이터_20230807.csv')
analyzer.run_all()
```

**출력 파일:**
- `01_속도분석.png` - 속도별 분석 그래프
- `02_주행상태분석.png` - 주행 상태별 그래프
- `03_상관관계.png` - 상관관계 히트맵
- `04_액셀강도분석.png` - 액셀 강도별 그래프
- `분석_최종보고서.txt` - 종합 분석 보고서

---

### 4️⃣ Pandas_Cheatsheet.md [80]
**빠른 참고용 함수 목록**
- 소요 시간: 언제든지 필요할 때
- 복잡도: ⭐ 레퍼런스
- 포함 내용:
  - 자주 사용하는 Pandas 함수
  - 실제 분석 예제 코드
  - 시각화 예제
  - 오류 해결법
  - 유용한 팁

**언제 사용:**
- 특정 함수 사용법 기억 안 날 때
- 새로운 분석 시작할 때
- 버그 해결이 필요할 때

---

## 🎯 선택 가이드

### 상황별 추천 코드

| 상황 | 추천 코드 | 이유 |
|------|---------|------|
| 처음 시작 | 퀵스타트 [78] | 간단하고 빠르게 결과 확인 가능 |
| 원리 학습 | 튜토리얼 [77] | 단계별 설명으로 이해도 높음 |
| 정기적 분석 | 고급코드 [79] | 한 번에 모든 분석 자동 처리 |
| 함수 찾기 | Cheatsheet [80] | 빠르게 원하는 코드 검색 |

---

## 🚀 빠른 시작 (5분)

### Step 1: 라이브러리 설치
```bash
pip install pandas numpy matplotlib seaborn
```

### Step 2: 코드 실행
```bash
python 퀵스타트_분석코드.py
```

### Step 3: 결과 확인
```bash
# 생성된 파일 확인
배터리_분석_데이터.csv
속도별_통계.csv
권장사항.txt
```

---

## 📖 자세한 학습 (30분)

### 1단계: 튜토리얼 문서 읽기 [77]
- "0단계: 라이브러리 설치" 섹션 읽기
- 모든 코드 블록 복사

### 2단계: Jupyter Notebook 또는 Python IDE 열기
```python
# 1단계: 라이브러리 임포트 코드 실행
import pandas as pd
import numpy as np

# 2단계: 데이터 로드 코드 실행
df = pd.read_csv('한국교통안전공단_전기화물차 센서데이터_20230807.csv')

# ... 계속 진행
```

### 3단계: 각 단계별 코드 이해하기
- 주석 읽기
- 변수 출력하여 확인
- 결과 분석하기

### 4단계: 자신의 코드 작성
- Cheatsheet 참고
- 새로운 분석 시도

---

## 🔧 고급 사용법

### 방법 1: 모든 분석 자동화
```python
from 고급_분석코드_클래스 import EVBatteryAnalyzer

# 한 줄로 전체 분석 완료!
analyzer = EVBatteryAnalyzer('파일명.csv')
analyzer.run_all()
```

### 방법 2: 커스텀 분석
```python
# 클래스에서 필요한 메서드만 사용
analyzer = EVBatteryAnalyzer('파일명.csv')
analyzer.load_data()
analyzer.create_features()

# 자신만의 분석 추가
custom_result = analyzer.df_cleaned[analyzer.df_cleaned['속도'] > 40]
```

### 방법 3: 배치 처리 (여러 파일)
```python
import os
from 고급_분석코드_클래스 import EVBatteryAnalyzer

for file in os.listdir('.'):
    if file.endswith('.csv'):
        analyzer = EVBatteryAnalyzer(file)
        analyzer.run_all()
```

---

## 💡 실전 팁

### Tip 1: 한글 폰트 문제 해결
```python
import matplotlib.pyplot as plt

# Windows
plt.rcParams['font.family'] = 'DejaVu Sans'

# Mac
plt.rcParams['font.family'] = 'AppleGothic'

# Linux
plt.rcParams['font.family'] = 'NanumGothic'
```

### Tip 2: 대용량 파일 처리
```python
# 전체 로드 (느림)
df = pd.read_csv('파일.csv')

# 청크 로드 (빠름)
for chunk in pd.read_csv('파일.csv', chunksize=10000):
    # 각 청크 처리
    pass

# 특정 컬럼만 로드
df = pd.read_csv('파일.csv', usecols=['속도', '배터리_전류'])
```

### Tip 3: 메모리 절약
```python
# 데이터 타입 최적화
df['컬럼'] = df['컬럼'].astype('int32')  # int64 대신
df['컬럼'] = df['컬럼'].astype('category')  # 카테고리형

# 메모리 사용량 확인
df.memory_usage(deep=True)
```

### Tip 4: 빠른 개발
```python
# 작은 샘플로 테스트
df_small = df.sample(1000)

# 코드 개발 후 전체 적용
df = pd.read_csv('파일.csv')
# 테스트한 코드 실행
```

---

## 🎨 그래프 팁

### 한글 그래프 저장
```python
plt.rcParams['axes.unicode_minus'] = False  # 마이너스 기호

fig, ax = plt.subplots()
ax.plot([1, 2, 3], [1, 2, 3])
ax.set_title('제목 (한글)')
fig.savefig('그래프.png', dpi=100, bbox_inches='tight')
```

### 고품질 저장
```python
plt.savefig('그래프.png', 
            dpi=300,              # 고해상도
            bbox_inches='tight',  # 여백 최소화
            facecolor='white')    # 배경색
```

---

## 🐛 일반적인 문제 해결

### 문제 1: "ModuleNotFoundError: No module named 'pandas'"
```bash
# 해결: 라이브러리 설치
pip install pandas numpy matplotlib seaborn
```

### 문제 2: 한글 파일명 오류
```python
# 해결: 파일명을 영문으로 변경
# '한국교통안전공단_전기화물차 센서데이터_20230807.csv'
# → 'ev_sensor_data.csv'
```

### 문제 3: "KeyError: '컬럼명'"
```python
# 해결: 정확한 컬럼명 확인
print(df.columns)  # 모든 컬럼 출력
```

### 문제 4: 시각화가 안 나타남
```python
# Jupyter Notebook의 경우 맨 위에 추가
%matplotlib inline

# 또는 코드 끝에 추가
plt.show()
```

---

## 📚 학습 로드맵

### 1주차: 기초
- [ ] 라이브러리 설치
- [ ] 퀵스타트 코드 실행
- [ ] 결과 확인

### 2주차: 학습
- [ ] 튜토리얼 1-5단계 학습
- [ ] 각 단계 코드 직접 입력
- [ ] 이해되지 않는 부분 Cheatsheet로 확인

### 3주차: 심화
- [ ] 튜토리얼 6-10단계 학습
- [ ] 고급 코드 실행
- [ ] 그래프 생성 및 분석

### 4주차: 실전
- [ ] 자신의 데이터로 분석
- [ ] 새로운 분석 추가
- [ ] 결과 보고서 작성

---

## 📞 추가 도움

### 오류 메시지 검색
1. 오류 메시지 복사
2. Google 또는 Stack Overflow에서 검색
3. 유사한 해결책 찾기

### Pandas 공식 문서
- 홈페이지: https://pandas.pydata.org/docs/
- 자주 사용하는 함수 레퍼런스

### Python/Pandas 커뮤니티
- Stack Overflow
- GitHub Discussions
- 로컬 Python 사용자 그룹

---

## ✅ 체크리스트

분석을 시작하기 전에 확인하세요:

- [ ] Python 3.7 이상 설치
- [ ] pandas, numpy, matplotlib, seaborn 설치
- [ ] CSV 파일 다운로드 완료
- [ ] IDE 또는 Jupyter Notebook 준비
- [ ] 4개 코드 파일 다운로드

준비 완료! 이제 시작하세요! 🚀

---

마지막 팁: 분석 결과를 동료나 팀과 공유할 때는 고급_분석코드_클래스 [79]로 생성한 보고서와 그래프를 사용하세요. 프로페셔널한 인상을 줄 수 있습니다! 📊
